<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Document</title>
</head>
<body>
    <ul>
        <li>1</li>
        <li class="li1     li">2</li>
        <li>3</li>
        <li class="li1 li2">4</li>
        <li>5</li>
    </ul>
<script>
   console.log(getByClass('.li1').length);
   var s = '123';
    //  /s/
    //new RegExp('' + s + '')
    /*
        /(^|\s)li(\s|$)/;

        \\n

        重点：
            1.找规律
            2.使用new RegExp()
                如果使用标准正则写法，那么第一个里面可以为字符串，
                这个时候就可以使用变量，如果规则中使用转义符，记得
                要转义。如 \\s   /|\都需要转换。
            var s = '123';
            /s/ -> 's'
            new RegExp(s,'g') -> '123'

    */

   function getByClass(sClass){
        var s = sClass.charAt();
        if(s === '#'){

            return document.getElementById(sClass.substring(1))
        }else if(s === '.'){
            if(document.getElementsByClassName){
                return document.getElementsByClassName(sClass.substring(1));
            }else{
                var arr = [];
                var aEle = document.getElementsByTagName('*');
                var re = new RegExp('(^|\\s)' + sClass.substring(1) + '(\\s|$)','g');
                for(var i=0;i<aEle.length;i++){
                    if(re.test(aEle[i].className)){
                        arr.push(aEle[i]);
                    }
                }
                return arr;
            }
        } 
   }

   // 'li  li2'  ^ + li + 空格   
   //'li2   li'  空格 + li +结尾
   //'li2  li li3' \空格 + li + 空格
   console.log(/(^|\s)li(\s|$)/.test('li2  li li3')); 
</script>
</body>
</html>