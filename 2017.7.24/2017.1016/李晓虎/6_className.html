<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Document</title>
</head>
<body>
    <ul>
        <li>1</li>
        <li class="li1     li">2</li>
        <li>3</li>
        <li class="li1 li2">4</li>
        <li>5</li>
    </ul>
<script>
   console.log(getByClass('.li1').length);
   function getByClass(sClass){
        var s = sClass.charAt();
        if(s === '#'){

            return document.getElementById(sClass.substring(1))
        }else if(s === '.'){
            if(document.getElementsByClassName){
                return document.getElementsByClassName(sClass.substring(1));
            }else{
                var arr = [];
                var aEle = document.getElementsByTagName('*');
                var re = new RegExp('(^|\\s)' + sClass.substring(1) + '(\\s|$)','g');
                for(var i=0;i<aEle.length;i++){
                    if(re.test(aEle[i].className)){
                        arr.push(aEle[i]);
                    }
                }
                return arr;
            }
        } 
   }
   console.log(/(^|\s)li(\s|$)/.test('li2  li li3')); 

// 根据传入内容获取元素
    var name = '.li';
    function getByname(name){
        // 根据首字母判断类型
        var type = name.charAt();
        // 要搜索的内容
        var content = name.slice(1);
        // className 
        if(type === '.'){
            // 获取全部元素
            var alle = document.getElementsByTagName('*');
            // 自定义数组
            var arr = [];
            // 正则
            var re = new RegExp('(^|\\s)'+ content + '(\\s|$)');
            // 遍历所有元素
            for(var i=0;i<alle.length;i++){
                // 匹配每个的className;
                if(re.test(alle[i].className)){//匹配成功
                    // 添加数组
                    arr.push(alle[i])
                }
            }
            return arr;
        }else if(type === '#'){//id
            return getElementById(content);
        }
    }

</script>
</body>
</html>